<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  
  <title>Cache from ZIP Recipe - Beyond Offline - ServiceWorker Cookbook</title>
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="tabzilla.css">
  <link rel="stylesheet" href="bundle.css">
  <script type="text/javascript" src="bundle.js" defer></script>
</head>
<body>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49796218-37', 'auto');
  ga('send', 'pageview');
  </script>

  <div class="book with-nav">
    <nav><div class="recipes-cover">
      <div id="tabzilla">
        <a href="https://www.mozilla.org/">Mozilla</a>
      </div>

      <ul class="recipes">
        <li><a href="/">Introduction</a></li>
        <li><a href="https://github.com/mozilla/serviceworker-cookbook/">Contribute on GitHub</a></li>

          
            <li class="category"><a href="caching-strategies.html">Caching strategies</a></li>
            
              
              <li>
                <a href="strategy-cache-and-update.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Cache and update
                </a>
              </li>
              
            
              
              <li>
                <a href="strategy-cache-only.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Cache only
                </a>
              </li>
              
            
              
              <li>
                <a href="strategy-network-or-cache.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Network or cache
                </a>
              </li>
              
            
              
              <li>
                <a href="strategy-cache-update-and-refresh.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  Cache, update and refresh
                </a>
              </li>
              
            
              
              <li>
                <a href="strategy-embedded-fallback.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  Embedded fallback
                </a>
              </li>
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          
            <li class="category"><a href="web-push.html">Web Push</a></li>
            
              
            
              
            
              
            
              
            
              
            
              
              <li>
                <a href="push-get-payload.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Push and Retrieve Payload
                </a>
              </li>
              
            
              
              <li>
                <a href="push-payload.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Push Payload
                </a>
              </li>
              
            
              
              <li>
                <a href="push-rich.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Push Rich
                </a>
              </li>
              
            
              
              <li>
                <a href="push-simple.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Push Simple
                </a>
              </li>
              
            
              
              <li>
                <a href="push-replace.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  Push Tag
                </a>
              </li>
              
            
              
              <li>
                <a href="push-clients.html">
                  <span class="ball-difficulty-3" title="Difficulty: Advanced">
                    
                    A
                    
                  </span>
                  Push Clients
                </a>
              </li>
              
            
              
              <li>
                <a href="push-quota.html">
                  <span class="ball-difficulty-3" title="Difficulty: Advanced">
                    
                    A
                    
                  </span>
                  Push Quota
                </a>
              </li>
              
            
              
              <li>
                <a href="push-subscription-management.html">
                  <span class="ball-difficulty-3" title="Difficulty: Advanced">
                    
                    A
                    
                  </span>
                  Push Subscription
                </a>
              </li>
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          
            <li class="category"><a href="general-usage.html">General Usage</a></li>
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
              <li>
                <a href="immediate-claim.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Immediate Claim
                </a>
              </li>
              
            
              
              <li>
                <a href="message-relay.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Message Relay
                </a>
              </li>
              
            
              
              <li>
                <a href="fetching.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  Fetching Remote Resources
                </a>
              </li>
              
            
              
              <li>
                <a href="live-flowchart.html">
                  <span class="ball-difficulty-3" title="Difficulty: Advanced">
                    
                    A
                    
                  </span>
                  Live Flowchart
                </a>
              </li>
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          
            <li class="category"><a href="offline.html">Offline</a></li>
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
              <li>
                <a href="json-cache.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  JSON Cache
                </a>
              </li>
              
            
              
              <li>
                <a href="offline-fallback.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Offline Fallback
                </a>
              </li>
              
            
              
              <li>
                <a href="offline-status.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Offline Status
                </a>
              </li>
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          
            <li class="category"><a href="beyond-offline.html">Beyond Offline</a></li>
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
              <li>
                <a href="local-download.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Local Download
                </a>
              </li>
              
            
              
              <li>
                <a href="api-analytics.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  API Analytics
                </a>
              </li>
              
            
              
              <li>
                <a href="cache-from-zip.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  Cache from ZIP
                </a>
              </li>
              
            
              
              <li>
                <a href="load-balancer.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  Load balancer
                </a>
              </li>
              
            
              
              <li>
                <a href="virtual-server.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  Virtual Server
                </a>
              </li>
              
            
              
              <li>
                <a href="dependency-injector.html">
                  <span class="ball-difficulty-3" title="Difficulty: Advanced">
                    
                    A
                    
                  </span>
                  Dependency Injection
                </a>
              </li>
              
            
              
              <li>
                <a href="request-deferrer.html">
                  <span class="ball-difficulty-3" title="Difficulty: Advanced">
                    
                    A
                    
                  </span>
                  Request Deferrer
                </a>
              </li>
              
            
              
            
              
            
          
            <li class="category"><a href="performance.html">Performance</a></li>
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
              <li>
                <a href="cache-then-network.html">
                  <span class="ball-difficulty-1" title="Difficulty: Beginner">
                    
                    B
                    
                  </span>
                  Cache then Network
                </a>
              </li>
              
            
              
              <li>
                <a href="render-store.html">
                  <span class="ball-difficulty-2" title="Difficulty: Intermediate">
                    
                    I
                    
                  </span>
                  Render Store
                </a>
              </li>
              
            
          
      </ul>
    </div></nav>
    <main>
      <header>
        <div class="nav-top">
          <div class="item">
            <button id="navToggle" class="fi-list large"></button>
          </div>
          <div class="tabs">
            
              <div class="item"><a href="cache-from-zip.html">Readme</a></div>
              <div class="item"><a href="cache-from-zip_demo.html">Demo <button class="demo-launch" data-href="cache-from-zip/index.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAQAAACIaFaMAAAAOklEQVR4AWMgA/yHQhBogPP+I0mgSYEJZgZG7BIQgGkUmnADEGKRaICw0Y1qQHEuNi+QJYEJ8UuQDACsJ1O3PKSOdQAAAABJRU5ErkJggg=="></button></a></div>
              <div class="item" style="flex-grow: 1;"></div>
              
                <div class="item"><a href="cache-from-zip_index_doc.html">index.js</a></div>
              
                <div class="item"><a href="cache-from-zip_worker_doc.html">worker.js</a></div>
              
            
          </div>
        </div>
      </header>
      <div class="main-inner">
        <div id="container">
  <div id="background"></div>
  
  <ul class="sections">
      
        <li id="title">
            <div class="annotation">
                <h1>worker.js</h1>
            </div>
        </li>
      
      
      
      <li id="section-1">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-1">&#182;</a>
            </div>
            
          </div>
          
          <div class="content"><div class='highlight'><pre><span class="hljs-comment">/* global importScripts, zip */</span>

importScripts(<span class="hljs-string">&#x27;./lib/zip.js&#x27;</span>);
importScripts(<span class="hljs-string">&#x27;./lib/ArrayBufferReader.js&#x27;</span>);
importScripts(<span class="hljs-string">&#x27;./lib/deflate.js&#x27;</span>);
importScripts(<span class="hljs-string">&#x27;./lib/inflate.js&#x27;</span>);

<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">ZIP_URL</span> = <span class="hljs-string">&#x27;./package.zip&#x27;</span>;
zip.<span class="hljs-property">useWebWorkers</span> = <span class="hljs-literal">false</span>;</pre></div></div>
          
      </li>
      
      
      <li id="section-2">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-2">&#182;</a>
            </div>
            <p>During installation, extend the event to recover the package
for this recipe and install into an offline cache.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre>self.<span class="hljs-property">oninstall</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  event.<span class="hljs-title function_">waitUntil</span>(
    <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">ZIP_URL</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) {
        <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">arrayBuffer</span>();
      })
      .<span class="hljs-title function_">then</span>(getZipReader)
      .<span class="hljs-title function_">then</span>(cacheContents)
      .<span class="hljs-title function_">then</span>(self.<span class="hljs-property">skipWaiting</span>.<span class="hljs-title function_">bind</span>(self)) <span class="hljs-comment">// control clients ASAP</span>
  );
};</pre></div></div>
          
      </li>
      
      
      <li id="section-3">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-3">&#182;</a>
            </div>
            <p>Control the clients as soon as possible.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre>self.<span class="hljs-property">onactivate</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  event.<span class="hljs-title function_">waitUntil</span>(self.<span class="hljs-property">clients</span>.<span class="hljs-title function_">claim</span>());
};</pre></div></div>
          
      </li>
      
      
      <li id="section-4">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-4">&#182;</a>
            </div>
            <p>Answer by querying the cache. If fail, go to the network.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre>self.<span class="hljs-property">onfetch</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">openCache</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">cache</span>) {
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">match</span>(event.<span class="hljs-property">request</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) {
      <span class="hljs-keyword">return</span> response || <span class="hljs-title function_">fetch</span>(event.<span class="hljs-property">request</span>);
    });
  }));
};</pre></div></div>
          
      </li>
      
      
      <li id="section-5">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-5">&#182;</a>
            </div>
            <p>This wrapper promisifies the zip.js API for reading a zip.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getZipReader</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">fulfill, reject</span>) {
    zip.<span class="hljs-title function_">createReader</span>(<span class="hljs-keyword">new</span> zip.<span class="hljs-title class_">ArrayBufferReader</span>(data), fulfill, reject);
  });
}</pre></div></div>
          
      </li>
      
      
      <li id="section-6">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-6">&#182;</a>
            </div>
            <p>Use the reader to read each of the files inside the zip
and put them into the offline cache.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">cacheContents</span>(<span class="hljs-params">reader</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">fulfill, reject</span>) {
    reader.<span class="hljs-title function_">getEntries</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">entries</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Installing&#x27;</span>, entries.<span class="hljs-property">length</span>, <span class="hljs-string">&#x27;files from zip&#x27;</span>);
      <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(entries.<span class="hljs-title function_">map</span>(cacheEntry)).<span class="hljs-title function_">then</span>(fulfill, reject);
    });
  });
}</pre></div></div>
          
      </li>
      
      
      <li id="section-7">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-7">&#182;</a>
            </div>
            <p>Cache one entry, skipping directories.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">cacheEntry</span>(<span class="hljs-params">entry</span>) {
  <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">directory</span>) { <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(); }

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">fulfill, reject</span>) {</pre></div></div>
          
      </li>
      
      
      <li id="section-8">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-8">&#182;</a>
            </div>
            <p>The writer specifies the format for the data to be read as.
This case, we want a generic blob as blob is one of the supported
formats for the <code>Response</code> constructor.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre>    entry.<span class="hljs-title function_">getData</span>(<span class="hljs-keyword">new</span> zip.<span class="hljs-title class_">BlobWriter</span>(), <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">openCache</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">cache</span>) {
        <span class="hljs-keyword">var</span> location = <span class="hljs-title function_">getLocation</span>(entry.<span class="hljs-property">filename</span>);
        <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(data, { <span class="hljs-attr">headers</span>: {</pre></div></div>
          
      </li>
      
      
      <li id="section-9">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-9">&#182;</a>
            </div>
            <p>As the zip says nothing about the nature of the file, we extract
this information from the file name.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre>          <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-title function_">getContentType</span>(entry.<span class="hljs-property">filename</span>)
        } });

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;-&gt; Caching&#x27;</span>, location,
                    <span class="hljs-string">&#x27;(size:&#x27;</span>, entry.<span class="hljs-property">uncompressedSize</span>, <span class="hljs-string">&#x27;bytes)&#x27;</span>);</pre></div></div>
          
      </li>
      
      
      <li id="section-10">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-10">&#182;</a>
            </div>
            <p>If the entry is the index, cache its contents for root as well.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">filename</span> === <span class="hljs-string">&#x27;index.html&#x27;</span>) {</pre></div></div>
          
      </li>
      
      
      <li id="section-11">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-11">&#182;</a>
            </div>
            <p>Response are one-use objects, as <code>.put()</code> consumes the data in the body
we need to clone the response in order to use it twice.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre>          cache.<span class="hljs-title function_">put</span>(<span class="hljs-title function_">getLocation</span>(), response.<span class="hljs-title function_">clone</span>());
        }

        <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">put</span>(location, response);
      }).<span class="hljs-title function_">then</span>(fulfill, reject);
    });
  });
}</pre></div></div>
          
      </li>
      
      
      <li id="section-12">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-12">&#182;</a>
            </div>
            <p>Return the location for each entry.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getLocation</span>(<span class="hljs-params">filename</span>) {
  <span class="hljs-keyword">return</span> location.<span class="hljs-property">href</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/worker\.js$/</span>, filename || <span class="hljs-string">&#x27;&#x27;</span>);
}

<span class="hljs-keyword">var</span> contentTypesByExtension = {
  <span class="hljs-string">&#x27;css&#x27;</span>: <span class="hljs-string">&#x27;text/css&#x27;</span>,
  <span class="hljs-string">&#x27;js&#x27;</span>: <span class="hljs-string">&#x27;application/javascript&#x27;</span>,
  <span class="hljs-string">&#x27;png&#x27;</span>: <span class="hljs-string">&#x27;image/png&#x27;</span>,
  <span class="hljs-string">&#x27;jpg&#x27;</span>: <span class="hljs-string">&#x27;image/jpeg&#x27;</span>,
  <span class="hljs-string">&#x27;jpeg&#x27;</span>: <span class="hljs-string">&#x27;image/jpeg&#x27;</span>,
  <span class="hljs-string">&#x27;html&#x27;</span>: <span class="hljs-string">&#x27;text/html&#x27;</span>,
  <span class="hljs-string">&#x27;htm&#x27;</span>: <span class="hljs-string">&#x27;text/html&#x27;</span>
};</pre></div></div>
          
      </li>
      
      
      <li id="section-13">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-13">&#182;</a>
            </div>
            <p>Return the content type of a file based on the name extension</p>

          </div>
          
          <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getContentType</span>(<span class="hljs-params">filename</span>) {
  <span class="hljs-keyword">var</span> tokens = filename.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;.&#x27;</span>);
  <span class="hljs-keyword">var</span> extension = tokens[tokens.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">return</span> contentTypesByExtension[extension] || <span class="hljs-string">&#x27;text/plain&#x27;</span>;
}</pre></div></div>
          
      </li>
      
      
      <li id="section-14">
          <div class="annotation">
            
            <div class="pilwrap ">
              <a class="pilcrow" href="#section-14">&#182;</a>
            </div>
            <p>Opening a cache is an expensive operation. By caching the promise
returned by <code>cache.open()</code> we only open the cache once.</p>

          </div>
          
          <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> cachePromise;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">openCache</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">if</span> (!cachePromise) { cachePromise = caches.<span class="hljs-title function_">open</span>(<span class="hljs-string">&#x27;cache-from-zip&#x27;</span>); }
  <span class="hljs-keyword">return</span> cachePromise;
}</pre></div></div>
          
      </li>
      
  </ul>
</div>

        <hr/>
        <h2>Has it been useful?</h2>
       <p>Tell us what you think of this recipe by leaving a comment!</p>
        <aside id="disqus_thread"></aside>
        <script>
         // https://disqus.com/admin/universalcode/#configuration-variables
         var disqus_config = function () {
          this.page.identifier = 'cache-from-zip';
         };
         (function() { // DON'T EDIT BELOW THIS LINE
           var d = document, s = d.createElement('script');
           s.src = '//serviceworkers.disqus.com/embed.js';
           s.setAttribute('data-timestamp', +new Date());
           (d.head || d.body).appendChild(s);
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </main>
  </div>
</body>
</html>
